{"version":3,"file":"index.js","mappings":"CAAA,SAA2CA,EAAMC,GAChD,GAAsB,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,SACb,GAAqB,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,OACP,CACJ,IAAIK,EAAIL,IACR,IAAI,IAAIM,KAAKD,GAAuB,iBAAZJ,QAAuBA,QAAUF,GAAMO,GAAKD,EAAEC,EACvE,CACA,CATD,CASGC,MAAM,WACT,M,mBCTA,IAAIC,EAAsB,CCA1BA,EAAyBN,IACxB,IAAIO,EAASP,GAAUA,EAAOQ,WAC7B,IAAOR,EAAiB,QACxB,IAAM,EAEP,OADAM,EAAoBG,EAAEF,EAAQ,CAAEJ,EAAGI,IAC5BA,CAAM,ECLdD,EAAwB,CAACP,EAASW,KACjC,IAAI,IAAIC,KAAOD,EACXJ,EAAoBM,EAAEF,EAAYC,KAASL,EAAoBM,EAAEb,EAASY,IAC5EE,OAAOC,eAAef,EAASY,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,IAE1E,ECNDL,EAAwB,CAACW,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,GCClFZ,EAAyBP,IACH,oBAAXuB,QAA0BA,OAAOC,aAC1CV,OAAOC,eAAef,EAASuB,OAAOC,YAAa,CAAEC,MAAO,WAE7DX,OAAOC,eAAef,EAAS,aAAc,CAAEyB,OAAO,GAAO,G,4DCL9D,MAAM,EAA+BC,QAAQ,S,aCA7C,MAAM,EAA+BA,QAAQ,qB,aCA7C,MAAM,EAA+BA,QAAQ,4BC4B7C,GAAiBC,aAzBI,mBAAH,+DAAG,CAAH,wBAyBaC,QArBf,mBAAH,0DAAG,CAAH,0CAqB2BC,KAZ3B,mBAAH,uDAAG,CAAH,sFAGW,EAAAC,MAAA,QAAc,SCXnC,EAJqD,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAH,OACnD,oCAAGA,EADgD,ECIrD,EAJkD,SAAC,GAAD,IAAGA,EAAH,EAAGA,SAAH,OAChD,oCAAGA,EAD6C,EC0ElD,QAjD0D,SAAC,G,QACzDC,EAEQ,EAFRA,OACAC,EACQ,EADRA,QACAF,EAAQ,EAARA,SACGG,E,yUAAK,GAJiD,iCAMnDC,GAAsB,IAAAC,QAA2B,MAEjDC,EAEL,QAFoB,IAAAC,SAAA,IAAaP,GAAU,SAAAQ,GAAK,OAC/C,IAAAC,gBAAeD,IAAUA,EAAME,OAAS,EAAUF,EAAQ,IADX,WAEhD,eAAEG,QACGC,EAEL,QAFiB,IAAAL,SAAA,IAAaP,GAAU,SAAAQ,GAAK,OAC5C,IAAAC,gBAAeD,IAAUA,EAAME,OAAS,EAAOF,EAAQ,IADX,WAE7C,eAAEG,QAEGE,EAAgB,SAACC,GACP,WAAVA,EAAEjC,KACJqB,GAEH,EAEKa,EAAqB,SAACD,G,MAC1BA,EAAEE,mBAE8B,QAA3B,EAAAZ,EAAoBa,eAAO,eAAEC,SAASJ,EAAEK,UAC3CjB,GAEH,EAYD,OAVA,IAAAkB,YAAU,WAIR,OAHAC,SAASC,iBAAiB,UAAWT,GACrCQ,SAASC,iBAAiB,YAAaP,GAEhC,WACLM,SAASE,oBAAoB,YAAaR,GAC1CM,SAASE,oBAAoB,UAAWV,EACzC,CACF,GAAE,IAGD,kBAAC,eAAe,iBAAKV,EAAK,CAAEqB,IAAKpB,IAC/B,kBAAC,UAAU,CAACqB,QAASxB,EAASC,OAAUwB,GACrCpB,GAEFL,GAAU,kBAAC,OAAO,KAAEW,GAG1B,E","sources":["webpack://@fellesdatakatalog/dropdown-menu/webpack/universalModuleDefinition","webpack://@fellesdatakatalog/dropdown-menu/webpack/bootstrap","webpack://@fellesdatakatalog/dropdown-menu/webpack/runtime/compat get default export","webpack://@fellesdatakatalog/dropdown-menu/webpack/runtime/define property getters","webpack://@fellesdatakatalog/dropdown-menu/webpack/runtime/hasOwnProperty shorthand","webpack://@fellesdatakatalog/dropdown-menu/webpack/runtime/make namespace object","webpack://@fellesdatakatalog/dropdown-menu/external commonjs \"react\"","webpack://@fellesdatakatalog/dropdown-menu/external commonjs \"styled-components\"","webpack://@fellesdatakatalog/dropdown-menu/external commonjs \"@fellesdatakatalog/theme\"","webpack://@fellesdatakatalog/dropdown-menu/./src/components/dropdown-menu/styled.ts","webpack://@fellesdatakatalog/dropdown-menu/./src/components/trigger/index.tsx","webpack://@fellesdatakatalog/dropdown-menu/./src/components/menu/index.tsx","webpack://@fellesdatakatalog/dropdown-menu/./src/components/dropdown-menu/index.tsx"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"react\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"styled-components\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@fellesdatakatalog/theme\");","import styled from 'styled-components';\nimport { theme } from '@fellesdatakatalog/theme';\n\nconst DropdownMenu = styled.nav`\n  position: relative;\n`;\n\nconst Trigger = styled.div`\n  cursor: pointer;\n\n  &,\n  & * {\n    color: inherit;\n  }\n`;\n\nconst Menu = styled.div`\n  position: absolute;\n  right: 0;\n  top: calc(100% + ${theme.spacing('S12')});\n  z-index: 1000;\n\n  &,\n  & * {\n    color: inherit;\n  }\n`;\n\nexport default { DropdownMenu, Trigger, Menu };\n","import React, { FC, PropsWithChildren } from 'react';\n\nexport interface Props {}\n\nexport const Trigger: FC<PropsWithChildren<Props>> = ({ children }) => (\n  <>{children}</>\n);\n\nexport default Trigger;\n","import React, { FC, PropsWithChildren } from 'react';\n\nexport interface Props {}\n\nexport const Menu: FC<PropsWithChildren<Props>> = ({ children }) => (\n  <>{children}</>\n);\n\nexport default Menu;\n","import React, {\n  FC,\n  useRef,\n  useEffect,\n  PropsWithChildren,\n  HTMLAttributes,\n  Children,\n  isValidElement\n} from 'react';\n\nimport SC from './styled';\n\nimport Trigger from '../trigger';\nimport Menu from '../menu';\n\nexport interface Props extends HTMLAttributes<HTMLElement> {\n  /**\n   * A flag indicating whether dropdown menu is open\n   * @type {boolean}\n   */\n  isOpen: boolean;\n  /**\n   * Dropdown menu close handler\n   * @callback CloseHandler\n   * @type {CloseHandler}\n   */\n  onClose: () => void;\n}\n\nexport const DropdownMenu: FC<PropsWithChildren<Props>> = ({\n  isOpen,\n  onClose,\n  children,\n  ...props\n}) => {\n  const dropdownMenuElement = useRef<HTMLElement | null>(null);\n\n  const triggerChild = Children.map(children, child =>\n    isValidElement(child) && child.type === Trigger ? child : null\n  )?.shift();\n  const menuChild = Children.map(children, child =>\n    isValidElement(child) && child.type === Menu ? child : null\n  )?.shift();\n\n  const handleKeyDown = (e: KeyboardEvent) => {\n    if (e.key === 'Escape') {\n      onClose();\n    }\n  };\n\n  const handleClickOutside = (e: MouseEvent) => {\n    e.stopPropagation();\n\n    if (!dropdownMenuElement.current?.contains(e.target as Node)) {\n      onClose();\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener('keydown', handleKeyDown);\n    document.addEventListener('mousedown', handleClickOutside);\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, []);\n\n  return (\n    <SC.DropdownMenu {...props} ref={dropdownMenuElement}>\n      <SC.Trigger onClick={isOpen ? onClose : undefined}>\n        {triggerChild}\n      </SC.Trigger>\n      {isOpen && <SC.Menu>{menuChild}</SC.Menu>}\n    </SC.DropdownMenu>\n  );\n};\n\nexport default DropdownMenu;\n"],"names":["root","factory","exports","module","define","amd","a","i","this","__webpack_require__","getter","__esModule","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","require","DropdownMenu","Trigger","Menu","theme","children","isOpen","onClose","props","dropdownMenuElement","useRef","triggerChild","Children","child","isValidElement","type","shift","menuChild","handleKeyDown","e","handleClickOutside","stopPropagation","current","contains","target","useEffect","document","addEventListener","removeEventListener","ref","onClick","undefined"],"sourceRoot":""}