function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

import { FontSizes, FontWeights } from '../utils';
import { CardBorder } from './Card.types';
import { getTheme } from '@fluentui/react';
import { keyframes, mergeStyleSets } from '@fluentui/merge-styles';
const fadeIn = keyframes({
  from: {
    opacity: 0
  },
  to: {
    opacity: 1
  }
});

function getCardBorder(props) {
  const palette = getTheme().palette;

  switch (props.border) {
    case CardBorder.YELLOW_BORDER:
      return {
        border: `4px solid ${palette.skeColor.brown}`
      };

    case CardBorder.GREEN_BORDER:
      return {
        border: `4px solid ${palette.skeColor.green}`
      };

    case CardBorder.RED_BORDER:
      return {
        border: `4px solid ${palette.skeColor.pink}`
      };

    case CardBorder.GREY_BORDER:
      return {
        border: `4px solid ${palette.skeColor.grey}`
      };

    case CardBorder.WHITE_BORDER:
      return {
        border: `4px solid ${palette.skeColor.white}`
      };

    default:
      return {
        border: 'none'
      };
  }
}

function getMargin(props) {
  switch (props.margin) {
    case 'none':
      return {
        margin: '0px'
      };

    case 'small':
      return {
        margin: '4px'
      };

    case 'medium':
      return {
        margin: '12px'
      };

    case 'large':
      return {
        margin: '24px'
      };

    case 'xlarge':
      return {
        margin: '64px'
      };

    default:
      return {
        margin: '8px'
      };
  }
}

export const getClassNames = (props, state) => {
  const theme = getTheme();
  const palette = theme.palette;
  const {
    isExpandedState
  } = state;
  const {
    title,
    titlesize,
    expand
  } = props;
  return mergeStyleSets({
    root: _objectSpread(_objectSpread({
      displayName: 'SkeCard',
      color: theme.semanticColors.bodyText,
      backgroundColor: palette.skeColor[props.color],
      marginBottom: props.marginbottom
    }, getCardBorder(props)), {}, {
      padding: 0,
      display: 'flow-root',
      boxSizing: 'border-box',
      selectors: {
        ':hover': {
          cursor: expand ? 'pointer' : 'default'
        },
        ':focus': {
          outline: 'none'
        }
      }
    }),
    expandIcon: {
      color: palette.skeColor.blue,
      borderTopWidth: '0px',
      border: 'none',
      height: '46px',
      width: '46px',
      borderRadius: '50%',
      marginRight: '8px',
      selectors: {
        i: {
          transform: isExpandedState ? 'rotate(-180deg)' : '0',
          fontSize: FontSizes.superLarge
        },
        ':hover': {
          borderColor: palette.skeColor.blue,
          background: palette.skeColor.lightBlue
        }
      }
    },
    titlecontainer: _objectSpread(_objectSpread({}, getMargin(props)), {}, {
      marginBottom: '2px',
      textAlign: 'left',
      outline: 'none',
      selectors: {
        ':focus': {
          textDecoration: 'underline'
        }
      }
    }),
    header: {
      width: '100%',
      backgroundColor: 'inherit',
      border: 'none',
      display: 'flex',
      justifyContent: 'space-between',
      alignItems: 'center',
      padding: 0,
      position: 'relative',
      wordBreak: 'break-word',
      selectors: {
        ':hover': {
          cursor: expand ? 'pointer' : ''
        },
        ':active': {
          color: expand ? palette.skeColor.blue : palette.skeColor.blackAlt
        },
        ':focus': {
          outlineColor: palette.skeColor.blue
        },
        ':focus:not(:focus-visible)': {
          outline: 'none'
        },
        ':focus-visible': {
          outlineColor: palette.skeColor.blue
        }
      }
    },
    title: {
      flex: '1 1 1px',
      fontSize: titlesize,
      fontWeight: FontWeights.semibold
    },
    titleExpand: {
      flex: '1 1 1px',
      fontSize: titlesize,
      fontWeight: FontWeights.semibold,
      margin: 0,
      selectors: {
        ':hover': {
          textDecoration: 'underline'
        }
      }
    },
    actions: {
      fontSize: FontSizes.medium
    },
    subtitle: {
      width: '100%',
      fontSize: FontSizes.large,
      fontWeight: FontWeights.regular,
      padding: '5px 0 5px 0'
    },
    body: _objectSpread(_objectSpread({
      textAlign: 'left',
      animationName: fadeIn,
      fontSize: FontSizes.medium
    }, getMargin(props)), {}, {
      marginTop: title ? '0' : undefined
    })
  });
};